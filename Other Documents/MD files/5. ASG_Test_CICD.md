## **1.	On the Bastion Host, connect to each WebApp instance in your ASG one at a time, or connect to them simultaneously in different terminals.**

## **2.	Install stress test and use it to trigger the target scaling policy of ASG:**

#### _Note: By default, Amazon CloudWatch collects metrics at 5-minute intervals for most AWS resources. This means metrics like CPUUtilization, NetworkIn, etc., are updated every 5 minutes. When an Auto Scaling Group (ASG) uses these metrics in a scaling policy, it must wait for at least one full 5-minute period before evaluating a change._

-   Install stress test.
    -   For **ubuntu**.

    ```bash
    sudo apt update
    sudo apt install stress -y
    ```
    -   For **Linux2**.

    ```bash
    sudo yum update -y
    sudo yum install stress -y
    ```

-	Initiate stress test.

    ```bash
    stress --cpu 2 --timeout 600
    ``` 

-	Verify if the ASG successfully scaled out in AWS console. It will take some time for this process to execute.

    <div style="text-align: left;">
    <img src="https://github.com/Carlo-05/CI-CD-Github-Actions-Terraform-Project/blob/main/Other%20Documents/Picture/stress_test_6.png?raw=true" alt="ASG" style="width: 45%; height: auto;">
    </div> 
 
    <div style="text-align: left;">
    <img src="https://github.com/Carlo-05/CI-CD-Github-Actions-Terraform-Project/blob/main/Other%20Documents/Picture/stress_test_2.png?raw=true" alt="ASG" style="width: 60%; height: auto;">
    </div> 

    <div style="text-align: left;">
    <img src="https://github.com/Carlo-05/CI-CD-Github-Actions-Terraform-Project/blob/main/Other%20Documents/Picture/stress_test_1.png?raw=true" alt="ASG" style="width: 60%; height: auto;">
    </div> 
 
-   Verify if the new instance populate the database. The database should look like the image below.
   
    <div style="text-align: left;">
    <img src="https://github.com/Carlo-05/CI-CD-Github-Actions-Terraform-Project/blob/main/Other%20Documents/Picture/stress_test_3.png?raw=true" alt="ASG" style="width: 40%; height: auto;">
    </div> 

-	After the stress test is done, it will scale in afterwards but the process takes some time.

    <div style="text-align: left;">
    <img src="https://github.com/Carlo-05/CI-CD-Github-Actions-Terraform-Project/blob/main/Other%20Documents/Picture/stress_test_4.png?raw=true" alt="ASG" style="width: 40%; height: auto;">
    </div> 

    <div style="text-align: left;">
    <img src="https://github.com/Carlo-05/CI-CD-Github-Actions-Terraform-Project/blob/main/Other%20Documents/Picture/stress_test_5.png?raw=true" alt="ASG" style="width: 40%; height: auto;">
    </div> 
 
    -	Default termination order:
        -	Oldest launch configuration/template.
        -	Then instance that is closest to next billing hour.
        -	Then instance in the Availability Zone with the most instances.
    -   By default, AWS scaling in and out can be relatively slow due to cooldown periods and conservative CloudWatch alarm thresholds. To speed up the process, you can fine-tune the Auto Scaling Group configuration by lowering the cooldown duration, adjusting alarm thresholds for faster responsiveness, or using target tracking policies to react more dynamically to workload changes.
    -   The Auto Scaling Group is configured with a minimum of two instances and a maximum of four. If one of the two running instances is manually terminated, the ASG automatically launches a replacement instance to maintain the desired capacity, ensuring high availability and resilience.
